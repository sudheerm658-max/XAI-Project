# Grok Insights Backend - Environment Configuration Template
# Copy this to .env and customize for your environment

# ===== APPLICATION =====
APP_NAME="Grok Insights Backend"
VERSION="1.0.0"
DEBUG=false
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO           # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ===== SERVER =====
HOST=0.0.0.0
PORT=8000
WORKERS=1

# ===== CORS =====
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]

# ===== DATABASE =====
# SQLite (development)
DATABASE_URL=sqlite:///./data/data.db

# PostgreSQL (production recommended)
# DATABASE_URL=postgresql://user:password@localhost:5432/grok_insights

DATABASE_ECHO=false
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ===== GROK ANALYSIS =====
GROK_MODE=mock          # mock or real (use real only with valid API key)
GROK_API_KEY=xai-your-key-here  # Get from https://console.x.ai/api-keys - NEVER commit real keys!
GROK_API_BASE_URL=https://api.x.ai/v1
GROK_MODEL=grok-1
GROK_COST_PER_1K=0.002  # $ per 1000 tokens

# ===== RATE LIMITING =====
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60         # Requests per window
RATE_LIMIT_WINDOW_SECONDS=60   # Time window in seconds

# ===== PROCESSING =====
MIN_BATCH_SIZE=1
MAX_BATCH_SIZE=50
START_BATCH_SIZE=5
QUEUE_FLUSH_TIMEOUT_SECONDS=1.0

# ===== RESILIENCE =====
ERROR_THRESHOLD=5                           # Errors before circuit breaker
CIRCUIT_BREAKER_COOLDOWN_SECONDS=10         # Cooldown duration
BACKPRESSURE_QUEUE_THRESHOLD=1000           # Queue size to trigger backpressure

# ===== OPTIMIZATION =====
ENABLE_CHEAP_PREFILTER=true
ENABLE_CACHING=true
MIN_TEXT_LENGTH=20

# ===== MONITORING =====
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=8001
